// Code generated by goa v3.23.4, DO NOT EDIT.
//
// accrual HTTP client types
//
// Command:
// $ goa gen github.com/oleshko-g/oggophermart/api/design -o internal/

package client

import (
	accrual "github.com/oleshko-g/oggophermart/internal/gen/accrual"
	service "github.com/oleshko-g/oggophermart/internal/gen/service"
	goa "goa.design/goa/v3/pkg"
)

// GetOrderOKResponseBody is the type of the "accrual" service "GetOrder"
// endpoint HTTP response body.
type GetOrderOKResponseBody struct {
	Order   *string  `form:"order,omitempty" json:"order,omitempty" xml:"order,omitempty"`
	Status  *string  `form:"status,omitempty" json:"status,omitempty" xml:"status,omitempty"`
	Accrual *float64 `form:"accrual,omitempty" json:"accrual,omitempty" xml:"accrual,omitempty"`
}

// GetOrderTheRequestRateLimitHasBeenExceededResponseBody is the type of the
// "accrual" service "GetOrder" endpoint HTTP response body for the "The
// request rate limit has been exceeded" error.
type GetOrderTheRequestRateLimitHasBeenExceededResponseBody struct {
	// identifier to map an error to HTTP status codes
	Name    *string `json:"-"`
	Message *string `form:"message,omitempty" json:"message,omitempty" xml:"message,omitempty"`
}

// NewGetOrderResultOK builds a "accrual" service "GetOrder" endpoint result
// from a HTTP "OK" response.
func NewGetOrderResultOK(body *GetOrderOKResponseBody) *accrual.GetOrderResult {
	v := &accrual.GetOrderResult{
		Order:   accrual.OrderNumber(*body.Order),
		Status:  *body.Status,
		Accrual: body.Accrual,
	}

	return v
}

// NewGetOrderTheRequestRateLimitHasBeenExceeded builds a accrual service
// GetOrder endpoint The request rate limit has been exceeded error.
func NewGetOrderTheRequestRateLimitHasBeenExceeded(body *GetOrderTheRequestRateLimitHasBeenExceededResponseBody, retryAfter int) *service.AccrualError {
	v := &service.AccrualError{
		Name:    body.Name,
		Message: *body.Message,
	}
	v.RetryAfter = retryAfter

	return v
}

// NewGetOrderInternalServiceError builds a accrual service GetOrder endpoint
// Internal service error error.
func NewGetOrderInternalServiceError() *service.AccrualError {
	v := &service.AccrualError{}

	return v
}

// ValidateGetOrderOKResponseBody runs the validations defined on
// GetOrderOKResponseBody
func ValidateGetOrderOKResponseBody(body *GetOrderOKResponseBody) (err error) {
	if body.Order == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("order", "body"))
	}
	if body.Status == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("status", "body"))
	}
	if body.Order != nil {
		err = goa.MergeErrors(err, goa.ValidatePattern("body.order", *body.Order, "[1-9][0-9]*"))
	}
	if body.Status != nil {
		if !(*body.Status == "REGISTERED" || *body.Status == "INVALID" || *body.Status == "PROCESSING" || *body.Status == "PROCESSED") {
			err = goa.MergeErrors(err, goa.InvalidEnumValueError("body.status", *body.Status, []any{"REGISTERED", "INVALID", "PROCESSING", "PROCESSED"}))
		}
	}
	if body.Accrual != nil {
		if *body.Accrual <= 0 {
			err = goa.MergeErrors(err, goa.InvalidRangeError("body.accrual", *body.Accrual, 0, true))
		}
	}
	return
}

// ValidateGetOrderTheRequestRateLimitHasBeenExceededResponseBody runs the
// validations defined on GetOrder_The request rate limit has been
// exceeded_Response_Body
func ValidateGetOrderTheRequestRateLimitHasBeenExceededResponseBody(body *GetOrderTheRequestRateLimitHasBeenExceededResponseBody) (err error) {
	if body.Message == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("message", "body"))
	}
	return
}
