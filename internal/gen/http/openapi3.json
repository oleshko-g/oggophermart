{"openapi":"3.0.3","info":{"title":"Goa API","version":"0.2"},"servers":[{"url":"http://localhost:80","description":"Default server for gophermart"}],"paths":{"/api/GET /orders/{number}":{"get":{"tags":["accrual"],"summary":"GetOrder accrual","operationId":"accrual#GetOrder","parameters":[{"name":"number","in":"path","required":true,"schema":{"type":"string","example":"Saepe similique ad quidem reprehenderit."},"example":"Aut quia aut."}],"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetOrderResult"},"example":{"accrual":17040887993634553020,"order":"Sed odit vel architecto natus voluptatem.","status":"Illum a explicabo cum incidunt libero."}}}},"500":{"description":"Internal service error: Internal Server Error response."}}}},"/api/user/login":{"post":{"tags":["user"],"summary":"login user","operationId":"user#login","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginPassword"},"example":{"login":"Ut officia quas minus ab ex quo.","password":"Rerum nesciunt."}}}},"responses":{"200":{"description":"OK response.","headers":{"Authorization":{"description":"A JWT token used to authenticate a request","schema":{"type":"string","description":"A JWT token used to authenticate a request","example":"Odit accusamus laborum ipsam consequuntur sed repellat."},"example":"Consequuntur earum ut."}}},"400":{"description":"Invalid input parameter: Bad Request response."},"401":{"description":"User is not authenticated: Unauthorized response."},"500":{"description":"Internal service error: Internal Server Error response."}}}},"/api/user/orders":{"post":{"tags":["balance"],"summary":"UploadUserOrder balance","description":"Upload user order","operationId":"balance#UploadUserOrder","requestBody":{"description":"Unique user order number","required":true,"content":{"application/json":{"schema":{"type":"string","description":"Unique user order number","example":"68","pattern":"[1-9][0-9]*"},"example":"8"}}},"responses":{"200":{"description":"The order has been accepted for processing before."},"202":{"description":"The order has been accepted for processing."},"400":{"description":"Invalid input parameter: Bad Request response."},"401":{"description":"missing_field: Missing or empty Authorization header","headers":{"goa-attribute-fault":{"description":"Is the error a server-side fault?","schema":{"type":"boolean","description":"Is the error a server-side fault?","example":true},"example":false},"goa-attribute-id":{"description":"ID is a unique identifier for this particular occurrence of the problem.","schema":{"type":"string","description":"ID is a unique identifier for this particular occurrence of the problem.","example":"123abc"},"example":"123abc"},"goa-attribute-message":{"description":"Message is a human-readable explanation specific to this occurrence of the problem.","schema":{"type":"string","description":"Message is a human-readable explanation specific to this occurrence of the problem.","example":"parameter 'p' must be an integer"},"example":"parameter 'p' must be an integer"},"goa-attribute-name":{"description":"Name is the name of this class of errors.","schema":{"type":"string","description":"Name is the name of this class of errors.","example":"bad_request"},"example":"bad_request"},"goa-attribute-temporary":{"description":"Is the error temporary?","schema":{"type":"boolean","description":"Is the error temporary?","example":true},"example":true},"goa-attribute-timeout":{"description":"Is the error a timeout?","schema":{"type":"boolean","description":"Is the error a timeout?","example":false},"example":true}}},"409":{"description":"The order belongs to another user: Conflict response."},"422":{"description":"Invalid order number: Unprocessable Entity response."}},"security":[{"jwt_header_Authorization":[]}]}},"/api/user/register":{"post":{"tags":["user"],"summary":"register user","operationId":"user#register","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginPassword"},"example":{"login":"Id dolor consequuntur aliquid magnam dolorem ipsum.","password":"Officiis reiciendis ipsa sed voluptatibus."}}}},"responses":{"200":{"description":"OK response.","headers":{"Authorization":{"description":"A JWT token used to authenticate a request","schema":{"type":"string","description":"A JWT token used to authenticate a request","example":"Molestias hic dolorem ea id voluptate."},"example":"Amet enim."}}},"400":{"description":"Invalid input parameter: Bad Request response."},"409":{"description":"Login is taken already: Conflict response."},"500":{"description":"Internal service error: Internal Server Error response."}}}}},"components":{"schemas":{"GetOrderResult":{"type":"object","properties":{"accrual":{"type":"integer","example":6514471168203770137,"format":"int64"},"order":{"type":"string","example":"Asperiores a."},"status":{"type":"string","example":"Deserunt vel omnis."}},"example":{"accrual":12745160823670990529,"order":"Atque enim.","status":"Rem voluptas sit repudiandae sed aperiam."}},"GophermartError":{"type":"object"},"JWTToken":{"type":"object","properties":{"authToken":{"type":"string","description":"A JWT token used to authenticate a request","example":"Et beatae sed voluptas omnis."}},"example":{"authToken":"Itaque sapiente."},"required":["authToken"]},"LoginPassword":{"type":"object","properties":{"login":{"type":"string","example":"Et quia velit officia provident."},"password":{"type":"string","example":"Eos sed aut nulla ducimus distinctio ut."}},"example":{"login":"Facilis sequi omnis.","password":"Sed dolor magni quo molestias."},"required":["login","password"]},"PostOrderResult":{"type":"object"}},"securitySchemes":{"jwt_header_Authorization":{"type":"http","description":"Secures an endpoint by requiring a valid JWT token.","scheme":"bearer"}}},"tags":[{"name":"accrual"},{"name":"balance"},{"name":"user"}]}